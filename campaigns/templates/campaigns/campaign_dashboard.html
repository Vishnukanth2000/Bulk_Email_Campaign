{% extends 'campaigns/base.html' %}

{% block content %}
    <h2>Campaign Dashboard</h2>
    <table>
        <thead>
            <tr>
                <th>Campaign Name</th>
                <th>Subject</th>
                <th>Status</th>
                <th>Scheduled Time</th>
                <th>Progress</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
            {% for campaign in campaigns %}
            <tr>
                <td>{{ campaign.name }}</td>
                <td>{{ campaign.subject }}</td>
                <td><span class="status status-{{ campaign.status }}">{{ campaign.get_status_display }}</span></td>
                <td>{{ campaign.scheduled_time }}</td>
                <td>
                    {{ campaign.sent_count }}/{{ campaign.total_recipients }} Sent<br>
                    {{ campaign.failed_count }} Failed
                </td>
                <td><a href="{% url 'campaign_detail' campaign.pk %}">View Logs</a></td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6">No campaigns found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}